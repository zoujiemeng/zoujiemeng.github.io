{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018-03-16---gsl/","webpackCompilationHash":"cc9e1bc92c1879e4615c","result":{"data":{"markdownRemark":{"html":"<p>GSL(GNU Scientific Library)是用C语言写成的科学计算库，与1996年发布了0.0版，已有22年历史。该计算库全部用C语言写成，在C/C++环境下均能良好运行。由于其开源的特性，在多位开发者的贡献下，已在多个平台编译成功并且运行良好（包括使用广泛的windows和linux平台）。下面介绍GSL在上述两个平台下的安装与使用方式（目前gsl的最新版本为2.4）。</p>\n<h1>GSL on Windows</h1>\n<p>在Windows平台上最好用的IDE无疑是Visual studio了（个人感觉没有之一）。本文以VS 2015为例，介绍gsl的安装及使用方式。（本方法使用Cmake生成VS项目文件，支持几乎所有的VS版本，尤其适合内置Cmake支持的VS2017）</p>\n<h2>下载Cmake</h2>\n<p>在Cmake官方网站的下载页面(<a href=\"https://cmake.org/download/\">https://cmake.org/download/</a>)找到对应Windows版本的下载包，下载之后直接安装即可。</p>\n<h2>下载gsl源代码</h2>\n<p>在(<a href=\"https://github.com/ampl/gsl\">https://github.com/ampl/gsl</a>)下载支持Cmake的gsl最新版本zip并解压。</p>\n<h2>使用Cmake生成VS的工程项目文件</h2>\n<ul>\n<li>打开Cmake-gui，选择源代码路径以及工程文件存储路径，如下图所示\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 651px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d048f35a6c3c15e50a38acfbfc45d627/a5cd6/20180316-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 119.20122887864824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC6ElEQVQ4y82V2WsTURTG538UfJOCPila8EGQ4oPUh1ZEVJQilSLSIkVcwD9ABEG7Js0yk8y+T5KZbG1pk8wk83nunaS2VB9sK3jh49z1O/dMZn4RXiy9xfLqJyy/+4yllfd48vIN5p4uYv7ZIu4/fI4HjxcwPTOHy9du49LULVy5cRdTN2dwdfoert+ZxeyjBSyufMSHV6+xOj8HYaukQtY8yLqPkmRQ3+dj021mcsaivkFygg6cWjeLQReGE0ExajD9NnKSBUGsavA9Dx7JcWyuVqtF0YHrugiCgK/5vo9ms4k4jpEkTAmGwwS6rqNQ2EFFElEolshQ1rlhvd5ArV6ngwGiKEIYRmg0QvhkaFlWZkiJut0uglrIE7F9qqpBFEUoioyiWPlleHDYwyFTr8f7k3Gr1eY3dV1Wgctvq6g2JKkC07R44pCMO50OqqoOwXR87HZ30R/EpAHX4Fg/jhMkwyEd6KLfH2A4SjEajZCm4P04GfL9rFmOB8FvNHGmxhyPulnfdn0Iml3jgxFNpmcUuzFrhuVSyV54lCU9lvVv2sTQoscnGBdp6Ab/wNDyows0pJLtoPk/GwYXa2j/zvA872H2owQRztsmhXFD3aljSDjq9fv0TQ5Oi3AVj3VyLR5rwL/xNB1lX4psepw2JiHKtm3OQYsiQ5ZpmjTnoFwuQ9U0vjYRm/fG59g4CHxUFaJNQSKelUvQNJ3YpqJSqfDIGKeRCUvCIMrEDtaJmYyJ7XabR4Y2jdZcAnO+WCYeqnQTQ4dEBqIoQSOm6WSuKCptcrG3t8fpnJWcKT56DAkvuUcMZRSXVQOCpDncsET4ZtBkhg6VoxGJmRhA//xjpCdet5IkQ1AtHy6V5dHVfc+FKit0M3qOhgmPYo3+Eth8u9lCFIaoEfq7VO7B/v6pBGJVgfD1R55qF5EriNjIFbGxXcD69g6PmzRmWtvMY31rB2uk7xs5vm8rX0KpoqJMYrGiGPjybR0/AfWAEevXTeHCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cmake-gui\"\n        title=\"Cmake-gui\"\n        src=\"/static/d048f35a6c3c15e50a38acfbfc45d627/a5cd6/20180316-1.png\"\n        srcset=\"/static/d048f35a6c3c15e50a38acfbfc45d627/d5c4a/20180316-1.png 185w,\n/static/d048f35a6c3c15e50a38acfbfc45d627/04e89/20180316-1.png 370w,\n/static/d048f35a6c3c15e50a38acfbfc45d627/a5cd6/20180316-1.png 651w\"\n        sizes=\"(max-width: 651px) 100vw, 651px\"\n      />\n  </a>\n    </span></li>\n<li>点击configure按钮，选择对应版本的编译器（注意：VS2015的版本号是14,64位系统请选择带win64字样的选项）\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 516px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/571f07030e4ab1fdbba9413b354d544e/34b4f/20180316-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.31782945736434%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABm0lEQVQ4y41T2Y7CMAzM/38aD9zwyFFoC/RuCvQeMl4iVeyyUGkaN7Wd8dhRSZKgLEvcbjfc73ex3+F6vSJNUwRBICv3uO73DlzXw/l8hgrj2DhEiAz6vhf899R1LYmzLBO76zohorVGURRQQRAiyVOkRYq6qlFVFZqm+QUGE/zPBAxmYu6RKfdiQ04VhRbanufhcrngeDyKzbJOp5OUwZWS2IQ2uf0m2raVPIonHQ4HTCYTLBYLrNdrLJdLTKdTzOdzOYCgj+97ctgrfN+X/67rQuV5LvWTRWwaRGZZlgt97nnGmSfT76f0v1Abhp34KIrbmA+hPyilaVqUTz0706iu6yWITXgF99lLElNa5wjiFL5hQ+rUjOyoJ8uhdp8eOxnSZdJkEJMxSRRFUjaTCXvDkKLbrtpgO2LDUZOS+SqMI4W3SSkwB96ydBxHbJbEEj8m5MbwltjR4GpvyDtmw4RPDTW+fT7dItGQmpEdWVDLb8CqGEdZqDObSDsMQygOIw024ltst1uMRiOsVitsNhuMx2PMZjPsdjs8AAHwNUNJlFWyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cmake-gui-configure\"\n        title=\"Cmake-gui-configure\"\n        src=\"/static/571f07030e4ab1fdbba9413b354d544e/34b4f/20180316-2.png\"\n        srcset=\"/static/571f07030e4ab1fdbba9413b354d544e/d5c4a/20180316-2.png 185w,\n/static/571f07030e4ab1fdbba9413b354d544e/04e89/20180316-2.png 370w,\n/static/571f07030e4ab1fdbba9413b354d544e/34b4f/20180316-2.png 516w\"\n        sizes=\"(max-width: 516px) 100vw, 516px\"\n      />\n  </a>\n    </span></li>\n<li>configure完成后点击generate生成对应工程文件，最后点击open project即可在对应IDE中打开。</li>\n</ul>\n<h2>使用VS生成库文件</h2>\n<ul>\n<li>编译ALL BUILD项目即可（编译过程中一些损失精度的warning可无视）。</li>\n<li>编译完成后，如果编译选项是release，即可在工程目录的release文件夹下看到<code>gsl.lib</code>和<code>gslblas.lib</code>两个库文件。</li>\n</ul>\n<h2>测试gsl库</h2>\n<ul>\n<li>\n<p>在VS中新建空项目gsl_test，并且在main.c中添加如下测试代码</p>\n<pre><code class=\"language-C++\">#include &#x3C;stdio.h>\n#include &#x3C;gsl/gsl_sf_bessel.h>\nint main(void)\n{\ndouble x = 5.0;\ndouble y = gsl_sf_bessel_J0(x);\nprintf(\"J0(%g) = %.18e\\n\", x, y);\n#ifdef WIN32\nsystem(\"pause\");\n#endif\nreturn 0;\n}\n</code></pre>\n</li>\n<li>打开项目属性对话框，在<strong>VC++目录->包含目录</strong>中添加gsl源码的解压文件夹路径，在<strong>VC++目录->库目录</strong>中添加之前生成库文件的路径。在<strong>链接器->输入->附加依赖项</strong>中添加<strong>gsl.lib;gslcblas.lib</strong></li>\n<li>编译项目（编译信息若提示默认库“LIBCMT”与其他库的使用冲突，只需在<strong>项目属性->链接器->命令行</strong>下方的输入栏中输入<code>/NODEFAULTLIB:\"libcmt.lib\"</code>即可）。</li>\n<li>运行项目，若显示下图结果，则代表gsl安装成功（可将上述系列设置单独存在一个设置文件中，方便移植到其他项目使用）。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 677px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/77404986bd8575b1bd5a09765b08fd21/2f6b3/20180316-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.28803545051699%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGklEQVQ4y62STU/CQBiEt19Kt/XQLj0YwaSn/gUvGjUYY6RUaCF+gAY1RA+aeMd41HiyRQR/7bi7Csar7OHJZGezk3mzL7m9f0D/eoDT3gU6J2dotNqImynqRxnXDAf1BIeNJj+nSNIOklaGdu8ce3GKjc0advdjHHcv0e0PcHVzB7K1vYMwDBFFkYQxhiAIJJ7nwbIs6LoOwzC4GlJnCF94mqbBNE08v7yCVKrrIIRIQ+givOUFyOpaZeGgGR+TKYjPykrCNNlwBOL5TFlgXigMFBSjdx6oaOR5oK80cKy64fi3oVjOf33GzzuhecFHZuVAWcPJ9FMsdhVLyyXYlKJk/0V4NnW+mfs2KHXhuCtSqePKe3EePj7hC116M5HqM4BPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gsl_test_result\"\n        title=\"gsl_test_result\"\n        src=\"/static/77404986bd8575b1bd5a09765b08fd21/2f6b3/20180316-3.png\"\n        srcset=\"/static/77404986bd8575b1bd5a09765b08fd21/d5c4a/20180316-3.png 185w,\n/static/77404986bd8575b1bd5a09765b08fd21/04e89/20180316-3.png 370w,\n/static/77404986bd8575b1bd5a09765b08fd21/2f6b3/20180316-3.png 677w\"\n        sizes=\"(max-width: 677px) 100vw, 677px\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h1>GSL on Linux</h1>\n<p>本文以Ubuntu 14.04为例演示gsl在linux系统中的安装与使用，由于是从源码安装，理论上该步骤兼容所有支持gcc的linux发行版系统。</p>\n<h2>获取gsl源码</h2>\n<p>可在gsl官网中提供的ftp地址获取最新的gsl源码（目前最新版本为2.4）</p>\n<h2>解压文件</h2>\n<p><code>tar -zxvf gsl-2.4.tar.gz</code></p>\n<h2>配置编译路径并安装</h2>\n<p><code>cd gsl-2.4</code>\n<code>mkdir /home/jay/gsl2.4</code>(jay为用户名，文件夹名gsl2.4可自定义)\n<code>./configure --prefix=/home/jay/gsl2.4</code>\n<code>make</code>\n<code>make check</code>（该步骤耗时较长，若上一步没有明显问题，可略过）\n<code>make install</code></p>\n<h2>更新配置文件</h2>\n<p><code>vi ~/.bashrc</code>\n在打开的文件末尾添加如下代码\n<code>export LD_LIBRARY_PATH=/home/jay/gsl2.4/lib:$LD_LIBRARY_PATH</code>\n<code>source ~/.bashrc</code>（使配置生效）</p>\n<h2>测试gsl库</h2>\n<ul>\n<li>新建gsl_test.c文件，添加测试代码（代码和Windows平台测试时使用的一致）</li>\n<li>编译和链接\n<code>gcc -Wall -I/home/jay/gsl2.4/include -c gsl_test.c</code>\n<code>gcc -L/home/jay/gsl2.4/lib gsl_test.o -lgsl -lgslcblas -lm</code></li>\n<li>运行\n<code>./a.out</code>\n若得到J0(5) = -1.775967713143382920e-01的结果，代表gsl安装成功。</li>\n</ul>","frontmatter":{"title":"GSL在Windows及linux系统下的安装与使用"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2018-03-16---gsl/"}}}